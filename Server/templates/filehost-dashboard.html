{% extends "base.html" %}

{% block content %}
<!doctype html>
<html lang="en">
<!-- Header -->

<head>
    <title>My First Bootstrap Page</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Stylesheet for plugin -->
    <!-- <link href="static/css/filehost-layout-light.css" rel="stylesheet"> -->
    <link id = "stylesheet" href="static/css/filehost-layout-dark.css" rel="stylesheet">

    <!-- reference stylesheet -->
    <!-- <link href="static/css/filehost-layout-light.css" rel="stylesheet"> -->

</head>

<body>


    <!-- Bootstrap Javascript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>


    <h1 class="header">

        <center>
            FileHost Plugin
        </center>
    </h1>
    <!-- Hosted Files Table Container -->
    <div class="filesblock">
        <h2>Hosted Files</h2>
        <table id="data-table", class="table">
            <thead>
                <tr>
                    <th>File Name</th>
                    <th>Contents (first 40 bytes)</th>
                </tr>
            </thead>
            <tbody>
                {% for file in files %}
                <tr>
                    <td>{{ file.name }}</td>
                    <td>{{ file.contents }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="nodesblock">
        <p>Nodes</b>
            <table id="data-table", class="table">
                <thead>
                    <tr>
                        <th>IP</th>
                        <th>Status</th>
                        <th>Sync</th>
                        <th>Time</th>
    
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td> 127.0.0.1 </td>
                        <td> Up </td>
                        <td> Successful </td>
                        <td> 17:01:25 - 10-01-23 </td>
                    </tr>
                    <tr>
                        <td> 127.0.0.1 </td>
                        <td> Up </td>
                        <td> Waiting... </td>
                        <td> 17:01:25 - 10-01-23 </td>
                    </tr>
                </tbody>
            </table>   
        <!-- <p>192.168.0.10 - Up - Synced Successful at 17:00.25</p> -->


    </div>

    <div class="fileinteractblock">
        <p>fileinteractblock</p>
        <!-- Form handler for the button -->
        <form action="/filehost/upload" method="POST" enctype="multipart/form-data">
            <input type="file" name="file">
            <button type="submit" style="background-color: gray;">Upload</button>
        </form>

    </div>

    <div class="logblock">
        <h2>File Access Logs</h2>
        <table id="data-table", class="table">
            <thead>
                <tr>
                    <th>IP</th>
                    <th>FileName</th>
                    <th>Time/Date</th>
                    <th>Hosting Server</th>

                </tr>
            </thead>
            <tbody>
                <tr>
                    <td> 127.0.0.1 </td>
                    <td> myfile.txt </td>
                    <td> 17:01:25 - 10-01-23 </td>
                    <td> notsafe.com </td>
                </tr>
                <tr>
                    <td> 127.0.0.1 </td>
                    <td> myfile.txt </td>
                    <td> 17:01:25 - 10-01-23 </td>
                    <td> notsafe.com </td>
                </tr>
            </tbody>
        </table>        
        
        <!-- <p>172.0.0.1 -- file.txt -- TIME:DATE</p> -->



    </div>



    <!-- Footer -->
    <footer style="color: red", class = "footer">
        <center>README! This PLUGIN IS IN DEVELOPMENT. THERE IS NO GUARANTEE THAT THIS IS SECURE. USE AT YOUR OWN RISK</center>
    
        <button onclick="setStylesheet('../static/css/filehost-layout-dark.css')">Dark</button>
        <button onclick="setStylesheet('../static/css/filehost-layout-light.css')">Light</button>
        <button onclick="setStylesheet('../static/css/filehost-layout-cyberpunk.css')">2077</button>

        <script>
            // Function to set the active stylesheet
            function setStylesheet(stylesheetName) {
                const stylesheet = document.getElementById("stylesheet");
                stylesheet.setAttribute("href", stylesheetName);
            }
        </script>
    
    
    </footer>
</body>

</html>

{% endblock %}
